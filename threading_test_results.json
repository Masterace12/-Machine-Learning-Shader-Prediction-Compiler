{
  "test_suite_info": {
    "total_tests": 8,
    "successful_tests": 8,
    "success_rate": 100.0,
    "total_duration_seconds": 16.293721914291382,
    "timestamp": "2025-08-19 01:15:37"
  },
  "test_results": [
    {
      "name": "Environment Variables Configuration",
      "success": true,
      "duration_ms": 911.6162290010834,
      "details": {
        "configurator_status": {
          "is_configured": true,
          "is_steam_deck": true,
          "cpu_count": 8,
          "configured_libraries": [
            "numpy",
            "numba",
            "lightgbm"
          ],
          "config": {
            "max_threads": 6,
            "ml_threads": 2,
            "omp_threads": 2
          },
          "adaptive_state": {
            "thermal_state": "normal",
            "gaming_mode": false,
            "battery_level": 100.0
          },
          "environment_variables": {
            "OMP_NUM_THREADS": "2",
            "MKL_NUM_THREADS": "2",
            "OPENBLAS_NUM_THREADS": "2"
          }
        },
        "environment_variables": {
          "OMP_NUM_THREADS": "2",
          "MKL_NUM_THREADS": "2",
          "OPENBLAS_NUM_THREADS": "2",
          "NUMEXPR_NUM_THREADS": "2"
        },
        "is_configured": true,
        "configured_libraries": [
          "numpy",
          "numba",
          "lightgbm"
        ]
      },
      "error": null
    },
    {
      "name": "Thread Pool Manager",
      "success": true,
      "duration_ms": 104.41585000080522,
      "details": {
        "task_results": [
          "Task ML completed",
          "Task COMPILE completed",
          "Task MONITOR completed"
        ],
        "thread_metrics": {
          "total_active_threads": 3,
          "max_total_threads": 6,
          "resource_state": "normal",
          "gaming_mode_active": false,
          "pool_statistics": {
            "CRITICAL": {
              "max_workers": 1,
              "active_threads": 0,
              "queue_size": 0
            },
            "HIGH": {
              "max_workers": 2,
              "active_threads": 1,
              "queue_size": 0
            },
            "NORMAL": {
              "max_workers": 2,
              "active_threads": 1,
              "queue_size": 0
            },
            "LOW": {
              "max_workers": 2,
              "active_threads": 1,
              "queue_size": 0
            },
            "IDLE": {
              "max_workers": 1,
              "active_threads": 0,
              "queue_size": 0
            }
          },
          "task_metrics": {
            "recent_task_count": 3,
            "success_rate_percent": 100.0,
            "average_duration_ms": 100.40736198425293,
            "total_tasks_completed": 3
          },
          "system_metrics": {
            "last_resource_check": null
          }
        },
        "total_threads": 3,
        "max_threads": 6,
        "resource_state": "normal",
        "success_rate": 100.0
      },
      "error": null
    },
    {
      "name": "ML Library Threading",
      "success": true,
      "duration_ms": 252.35205100034364,
      "details": {
        "average_prediction_time_ms": 0.08568959965487011,
        "min_prediction_time_ms": 0.0834909951663576,
        "max_prediction_time_ms": 0.09074300032807514,
        "predictions_under_5ms": 10,
        "ml_metrics": {
          "model_type": "ML-only",
          "primary_model": "LightGBM",
          "prediction_count": 13,
          "average_prediction_time_ms": 0.10259076785027552,
          "total_prediction_time_ms": 1.3336799820535816,
          "predictions_per_second": 9747.465790093649,
          "optimization_level": 2,
          "performance_features": {
            "numba_jit": true,
            "bottleneck": true,
            "numexpr": true,
            "lightgbm": true,
            "sklearn": true
          },
          "hardware": {
            "steam_deck": true,
            "cpu_cores": 8
          }
        },
        "threading_optimizations_active": true
      },
      "error": null
    },
    {
      "name": "Thermal Management Integration",
      "success": true,
      "duration_ms": 2001.890325002023,
      "details": {
        "thermal_status": {
          "thermal_state": "normal",
          "steam_deck_model": "unknown",
          "current_temps": {
            "apu": 70.0,
            "cpu": 70.0,
            "gpu": 70.0
          },
          "fan_rpm": 2000,
          "power_draw": 14.0,
          "battery_level": 80.0,
          "compilation_threads": 4,
          "sensors_available": 2,
          "mock_mode": false,
          "gaming_active": false
        },
        "has_thread_manager_integration": true,
        "mock_mode": false,
        "steam_deck_model": "unknown",
        "compilation_threads": 4,
        "current_temps": {
          "apu": 70.0,
          "cpu": 70.0,
          "gpu": 70.0
        }
      },
      "error": null
    },
    {
      "name": "Thread Diagnostics",
      "success": true,
      "duration_ms": 3003.605078003602,
      "details": {
        "diagnostic_report": {
          "timestamp": 1755584127.023968,
          "system_info": {
            "is_steam_deck": true,
            "cpu_cores": 8,
            "total_threads": 37,
            "active_threads": 7
          },
          "threading_analysis": {
            "library_breakdown": {
              "threading": 7
            },
            "average_thread_age_seconds": 3.0004470348358154,
            "threads_by_daemon_status": {
              "daemon": 3,
              "non_daemon": 4
            }
          },
          "performance_metrics": {
            "average_memory_mb": 255.109375,
            "peak_memory_mb": 255.109375,
            "monitoring_duration_minutes": 0.05000745058059693
          },
          "issues": {
            "total_detected": 1,
            "recent_issues": 1,
            "by_severity": {
              "critical": 0,
              "high": 1,
              "medium": 0,
              "low": 0
            },
            "recent_issue_details": [
              {
                "type": "thread_leak",
                "severity": "high",
                "description": "High thread count: 37 threads (warning: 30)",
                "suggested_fix": "Monitor thread creation patterns and implement thread pooling."
              }
            ]
          },
          "recommendations": [
            "Consider implementing thread pooling to reduce overhead",
            "Review threading configuration for ML libraries",
            "Steam Deck detected: Keep total threads \u22648 for optimal performance",
            "Enable thermal-aware thread scaling for battery life"
          ]
        },
        "total_threads": 37,
        "library_breakdown": {
          "threading": 7
        },
        "critical_issues": 0,
        "high_issues": 1,
        "recommendations_count": 4,
        "has_steam_deck_optimizations": true
      },
      "error": null
    },
    {
      "name": "Resource Limits",
      "success": true,
      "duration_ms": 502.1550620003836,
      "details": {
        "initial_memory_mb": 2410.16015625,
        "final_memory_mb": 2410.40625,
        "memory_increase_mb": 0.24609375,
        "initial_threads": 7,
        "final_threads": 7,
        "thread_increase": 0,
        "memory_percent": 24.3,
        "cpu_count": 8,
        "resource_limits_respected": true
      },
      "error": null
    },
    {
      "name": "Threading Under Load",
      "success": true,
      "duration_ms": 7.872139998653438,
      "details": {
        "total_tasks": 8,
        "completed_tasks": 8,
        "failed_tasks": 0,
        "total_duration_seconds": 0.007791008996719029,
        "average_task_duration": 0.0004662816245399881,
        "max_task_duration": 0.001979016997211147,
        "thread_metrics": {
          "total_active_threads": 5,
          "max_total_threads": 6,
          "resource_state": "optimal",
          "gaming_mode_active": false,
          "pool_statistics": {
            "CRITICAL": {
              "max_workers": 1,
              "active_threads": 0,
              "queue_size": 0
            },
            "HIGH": {
              "max_workers": 2,
              "active_threads": 2,
              "queue_size": 0
            },
            "NORMAL": {
              "max_workers": 2,
              "active_threads": 2,
              "queue_size": 0
            },
            "LOW": {
              "max_workers": 2,
              "active_threads": 1,
              "queue_size": 0
            },
            "IDLE": {
              "max_workers": 1,
              "active_threads": 0,
              "queue_size": 0
            }
          },
          "task_metrics": {
            "recent_task_count": 12,
            "success_rate_percent": 100.0,
            "average_duration_ms": 194.36824321746826,
            "total_tasks_completed": 12
          },
          "system_metrics": {
            "last_resource_check": {
              "timestamp": 1755584122.6648214,
              "cpu_percent": 12.2,
              "memory_percent": 24.3,
              "temperature": 51.0,
              "resource_state": "optimal",
              "active_threads": 3
            }
          }
        },
        "success_rate": 100.0,
        "no_thread_creation_errors": true
      },
      "error": null
    },
    {
      "name": "Cleanup and Shutdown",
      "success": true,
      "duration_ms": 9508.078878003289,
      "details": {
        "initial_threads": 9,
        "final_threads": 2,
        "thread_reduction": 7,
        "cleanup_results": {
          "ml_predictor": "success",
          "thread_manager": "success",
          "diagnostics": "success"
        },
        "successful_cleanups": 3,
        "test_task_result": "test task",
        "cleanup_effective": true
      },
      "error": null
    }
  ]
}